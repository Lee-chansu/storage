<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    p{font-size: 24px;}
  </style>
</head>
<body>
  <h1>this</h1>
  
  <button type="button" id="btn-1">버튼 - function</button>
  <button type="button" id="btn-2">버튼 - 화살표함수</button>

<script>
// 전역
console.log("전역 : window")
console.log(this)

//함수 선언
function myThis(){
  console.log("함수 : window")
  console.log(this)
}
myThis()

// 객체 - 일반 함수표현식
let obj = {
  myObjThis : function(){
    console.log("객체-function : 현재 객체")
    console.log(this)
  }
}
obj.myObjThis()

// 객체 - 화살표 함수
let objArrow = {
  myObjThis : () => {
    console.log("객체-화살표함수 : 상위 스코프의 this 상속")
    console.log("ㄴ화살표 함수는 this를 현재 객체, 매개변수에 연결하지 않는다.")
    console.log("ㄴ상위 범위(스코프)의 this를 그대로 상속한다.")
    console.log(this)
    
  }
}
objArrow.myObjThis()

// 스코프 = { }범위

// fuction으로 사용할 때 - 이벤트 핸들러가 적용되는 대상을 가리킴
let btn1 = document.getElementById('btn-1')
let btn2 = document.getElementById('btn-2')


btn1.addEventListener('click', function() {
  // 3) 이벤트 클릭한 요소 - this
  console.log('클릭한 대상 : ')
  console.log(this) //클릭한 그 요소 - 해당 html이 출력됨.

  let test = () => {
    console.log('화살표 함수는 부모의 this를 가져옴')
    console.log(this) // 부모의 this가 클릭한 요소를 가져옴 -> btn-1을 출력하게 됨.
  }
  test();
});

// 화살표 함수로 쓰면 - 상위 this 상속
btn2.addEventListener('click', () => {
  console.log('상위 this 상속 : ')
  console.log(this) // = windows 출력, btn-2(X)
});



</script>
</body>
</html>
