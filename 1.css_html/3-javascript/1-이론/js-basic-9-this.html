<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <style>
    p{font-size: 24px;}
  </style>
</head>
<body>
  <h1>this</h1>
  
  <button type="button" id="btn-1">버튼 - function</button>
  <button type="button" id="btn-2">버튼 - 화살표함수</button>

<script>
// 전역
console.log("전역 : window")
console.log(this)

// 1) 전역함수 -  function
function myThis(){
  console.log("전역 함수 function : window")
  console.log(this)
}
myThis()

// 2) 객체 안의 함수 = 메서드 -  function
let obj = {
  val : 10,
  myObjThis : function(){
    console.log("객체-function : 현재 객체 정보 전체 출력")
    console.log(this) // 객체정보 출력
  }
}
obj.myObjThis()

// 객체 - 화살표 함수
let objArrow = {
  myObjThis : () => {
    console.log("화살표함수 : 부모 범위(스코프) this 값을 상속 받는다")
    console.log("ㄴ화살표 함수는 this를 현재 객체, 매개변수에 연결하지 않는다.")
    console.log("ㄴ상위 범위(스코프)의 this를 그대로 상속한다.")
    console.log(this) // 부모가 전역이니까 window 상속받아서 출력
  }
}
objArrow.myObjThis()

// 스코프 = { }범위

// fuction으로 사용할 때 - 이벤트 핸들러가 적용되는 대상을 가리킴
let btn1 = document.getElementById('btn-1')
let btn2 = document.getElementById('btn-2')

// 콜백함수 - 어떤 동작이 처리된 이후에 실행될 함수
btn1.addEventListener('click', function() {
  // 3) 이벤트 클릭한 요소 - this 
  console.log('부모가 클랙한 대상 = this : ')
  console.log(this) // 클릭한 그 요소 - 해당 html이 출력됨

  // 하위 - 화살표 함수 1개 더 작성
  let test = ()=>{
    console.log('화살표 함수는 부모의 this를 가져옴 : ')
    console.log(this) // 부모의 this가 클릭한 요소
  }
  test()

});

// 화살표 함수로 쓰면 - 상위 this 상속
btn2.addEventListener('click', () => {
  console.log('부모 = 전역, 상위 this 상속 : window ')
  console.log(this) // = windows
});


//
/*
fuction 함수 안에서 this 위치에 따라 다르다
- 전역 위치 : window
- 객체 안에서 : 객체정보
- 이벤트 안에서 : 이벤트 발생한 요소

화살표 함수 안에서 this 
- 부모요소의 this 값을 그대로 가져온다

*/







</script>
</body>
</html>
